import{_ as s,r as t,o as l,c as r,d as e,e as n,f as i,a as o}from"./app-b9792811.js";const c={},d=e("h2",{id:"关于kkfileview",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#关于kkfileview","aria-hidden":"true"},"#"),n(" 关于kkFileView")],-1),p=e("p",null,[e("strong",null,"kkFileView为文件文档在线预览解决方案，该项目使用流行的spring boot搭建，易上手和部署，基本支持主流办公文档的在线预览，如doc,docx,xls,xlsx,ppt,pptx,pdf,txt,zip,rar,图片,视频,音频等等")],-1),u=e("p",null,"实际应用上来说，这个是为了实现电脑端小程序预览且不能下载文件的解决方案。",-1),k={href:"https://kkfileview.keking.cn/zh-cn/index.html",target:"_blank",rel:"noopener noreferrer"},h={href:"https://kkfileview.keking.cn/zh-cn/docs/home.html",target:"_blank",rel:"noopener noreferrer"},v=e("h2",{id:"docker环境下安装",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#docker环境下安装","aria-hidden":"true"},"#"),n(" docker环境下安装")],-1),m={href:"https://kkfileview.keking.cn/zh-cn/docs/production.html",target:"_blank",rel:"noopener noreferrer"},g=o(`<p>主要指令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull keking/kkfileview
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-it</span> <span class="token parameter variable">-p</span> <span class="token number">8012</span>:8012 keking/kkfileview

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><p>这是最让我头痛的一步，官网上配置中是可以禁止pdf下载的，但是官网这么说。</p><blockquote><p>打开conf目录，下面有一个application.properties配置文件，有部分配置是可以在程序运行中变更的，其他的变更需要重新启动程序。</p></blockquote><p>我：？？？conf目录在哪儿？application.properties又在哪儿？</p><p>不慌，我们先看一下docker的运行情况</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后就能看到下图</p><figure><img src="https://fastly.jsdelivr.net/gh/comradeWong/ImageStorageService@master/img/1657342262512kkfileview_1.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><p>这个就是我们的服务，然后前边的编号就是我们需要取到的值。</p><p>接着，我们执行</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker exec -it 3200a9321915 /bin/bash

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>此时就进入了容器中，然后我们执行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">find</span> / <span class="token parameter variable">-name</span> application.properties

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>顾名思义，找到所有的名叫application.properties的文件</p><figure><img src="https://fastly.jsdelivr.net/gh/comradeWong/ImageStorageService@master/img/1657342264514kkfileview_2.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><p>ok 我们已经找到这个文件了，接下来就是修改。</p><p>我的操作是</p><p>首先将docker镜像中的这个文件拷贝出来，修改之后，再拷贝回去替换即可。</p><p>拷贝出来到home/ubuntu</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> <span class="token function">cp</span> 3200a9321915:/opt/kkFileView-4.1.0-SNAPSHOT/config/application.properties /home/ubuntu

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>拷贝回去（当前文件目录在home/ubuntu）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> <span class="token function">cp</span> ./application.properties 3200a9321915:/opt/kkFileView-4.1.0-SNAPSHOT/config/application.properties

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这样就可以完成更新配置啦！</p>`,25);function f(b,_){const a=t("ExternalLinkIcon");return l(),r("div",null,[d,p,u,e("p",null,[n("官网："),e("a",k,[n("https://kkfileview.keking.cn/zh-cn/index.html"),i(a)])]),e("p",null,[n("文档："),e("a",h,[n("https://kkfileview.keking.cn/zh-cn/docs/home.html"),i(a)])]),v,e("p",null,[n("我只用了这一种方式安装，可以跟着"),e("a",m,[n("安装文档"),i(a)]),n("去安装，还是蛮简单的。")]),g])}const w=s(c,[["render",f],["__file","kk_file_view.html.vue"]]);export{w as default};
